let elements = {     

"Hidrógeno": {"símbolo": "H", "número_atómico": 1},
"Helio": {"símbolo": "He", "número_atómico": 2},
"Litio": {"símbolo": "Li", "número_atómico": 3},
"Berilio": {"símbolo": "Be", "número_atómico": 4},
"Boro": {"símbolo": "B", "número_atómico": 5},
"Carbono": {"símbolo": "C", "número_atómico": 6},
"Nitrógeno": {"símbolo": "N", "número_atómico": 7},
"Oxígeno": {"símbolo": "O", "número_atómico": 8},
"Flúor": {"símbolo": "F", "número_atómico": 9},
"Neón": {"símbolo": "Ne", "número_atómico": 10},
"Sodio": {"símbolo": "Na", "número_atómico": 11},
"Magnesio": {"símbolo": "Mg", "número_atómico": 12},
"Aluminio": {"símbolo": "Al", "número_atómico": 13},
"Silicio": {"símbolo": "Si", "número_atómico": 14},
"Fósforo": {"símbolo": "P", "número_atómico": 15},
"Azufre": {"símbolo": "S", "número_atómico": 16},
"Cloro": {"símbolo": "Cl", "número_atómico": 17},
"Argón": {"símbolo": "Ar", "número_atómico": 18},
"Potasio": {"símbolo": "K", "número_atómico": 19},
"Calcio": {"símbolo": "Ca", "número_atómico": 20},
"Escandio": {"símbolo": "Sc", "número_atómico": 21},
"Titanio": {"símbolo": "Ti", "número_atómico": 22},
"Vanadio": {"símbolo": "V", "número_atómico": 23},
"Cromo": {"símbolo": "Cr", "número_atómico": 24},
"Manganeso": {"símbolo": "Mn", "número_atómico": 25},
"Hierro": {"símbolo": "Fe", "número_atómico": 26},
"Cobalto": {"símbolo": "Co", "número_atómico": 27},
"Níquel": {"símbolo": "Ni", "número_atómico": 28},
"Cobre": {"símbolo": "Cu", "número_atómico": 29},
"Zinc": {"símbolo": "Zn", "número_atómico": 30},
"Galio": {"símbolo": "Ga", "número_atómico": 31},
"Germanio": {"símbolo": "Ge", "número_atómico": 32},
"Arsénico": {"símbolo": "As", "número_atómico": 33},
"Selenio": {"símbolo": "Se", "número_atómico": 34},
"Bromo": {"símbolo": "Br", "número_atómico": 35},
"Kriptón": {"símbolo": "Kr", "número_atómico": 36},
"Rubidio": {"símbolo": "Rb", "número_atómico": 37},
"Estroncio": {"símbolo": "Sr", "número_atómico": 38},
"Itrio": {"símbolo": "Y", "número_atómico": 39},
"Zirconio": {"símbolo": "Zr", "número_atómico": 40},
"Niobio": {"símbolo": "Nb", "número_atómico": 41},
"Molibdeno": {"símbolo": "Mo", "número_atómico": 42},
"Tecnecio": {"símbolo": "Tc", "número_atómico": 43},
"Rutenio": {"símbolo": "Ru", "número_atómico": 44},
"Rodio": {"símbolo": "Rh", "número_atómico": 45},
"Paladio": {"símbolo": "Pd", "número_atómico": 46},
"Plata": {"símbolo": "Ag", "número_atómico": 47},
"Cadmio": {"símbolo": "Cd", "número_atómico": 48},
"Indio": {"símbolo": "In", "número_atómico": 49},
"Estaño": {"símbolo": "Sn", "número_atómico": 50},
"Antimonio": {"símbolo": "Sb", "número_atómico": 51},
"Telurio": {"símbolo": "Te", "número_atómico": 52},
"Yodo": {"símbolo": "I", "número_atómico": 53},
"Xenón": {"símbolo": "Xe", "número_atómico": 54},
"Cesio": {"símbolo": "Cs", "número_atómico": 55},
"Bario": {"símbolo": "Ba", "número_atómico": 56},
"Lantano": {"símbolo": "La", "número_atómico": 57},
"Cerio": {"símbolo": "Ce", "número_atómico": 58},
"Praseodimio": {"símbolo": "Pr", "número_atómico": 59},
"Neodimio": {"símbolo": "Nd", "número_atómico": 60},
"Prometio": {"símbolo": "Pm", "número_atómico": 61},
"Prometio": {"símbolo": "Pm", "número_atómico": 61},
"Samario": {"símbolo": "Sm", "número_atómico": 62},
"Europio": {"símbolo": "Eu", "número_atómico": 63},
"Gadolinio": {"símbolo": "Gd", "número_atómico": 64},
"Terbio": {"símbolo": "Tb", "número_atómico": 65},
"Disprosio": {"símbolo": "Dy", "número_atómico": 66},
"Holmio": {"símbolo": "Ho", "número_atómico": 67},
"Erbio": {"símbolo": "Er", "número_atómico": 68},
"Tulio": {"símbolo": "Tm", "número_atómico": 69},
"Iterbio": {"símbolo": "Yb", "número_atómico": 70},
"Lutecio": {"símbolo": "Lu", "número_atómico": 71},
"Hafnio": {"símbolo": "Hf", "número_atómico": 72},
"Tantalio": {"símbolo": "Ta", "número_atómico": 73},
"Wolframio": {"símbolo": "W", "número_atómico": 74},
"Renio": {"símbolo": "Re", "número_atómico": 75},
"Osmio": {"símbolo": "Os", "número_atómico": 76},
"Iridio": {"símbolo": "Ir", "número_atómico": 77},
"Platino": {"símbolo": "Pt", "número_atómico": 78},
"Oro": {"símbolo": "Au", "número_atómico": 79},
"Mercurio": {"símbolo": "Hg", "número_atómico": 80},
"Talio": {"símbolo": "Tl", "número_atómico": 81},
"Plomo": {"símbolo": "Pb", "número_atómico": 82},
"Bismuto": {"símbolo": "Bi", "número_atómico": 83},
"Polonio": {"símbolo": "Po", "número_atómico": 84},
"Astato": {"símbolo": "At", "número_atómico": 85},
"Radón": {"símbolo": "Rn", "número_atómico": 86},
"Francio": {"símbolo": "Fr", "número_atómico": 87},
"Radio": {"símbolo": "Ra", "número_atómico": 88},
"Actinio": {"símbolo": "Ac", "número_atómico": 89},
"Torio": {"símbolo": "Th", "número_atómico": 90},
"Protactinio": {"símbolo": "Pa", "número_atómico": 91},
"Uranio": {"símbolo": "U", "número_atómico": 92},
"Neptunio": {"símbolo": "Np", "número_atómico": 93},
"Plutonio": {"símbolo": "Pu", "número_atómico": 94},
"Americio": {"símbolo": "Am", "número_atómico": 95},
"Curio": {"símbolo": "Cm", "número_atómico": 96},
"Berkelio": {"símbolo": "Bk", "número_atómico": 97},
"Californio": {"símbolo": "Cf", "número_atómico": 98},
"Einstenio": {"símbolo": "Es", "número_atómico": 99},
"Fermio": {"símbolo": "Fm", "número_atómico": 100},
"Mendelevio": {"símbolo": "Md", "número_atómico": 101},
"Nobelio": {"símbolo": "No", "número_atómico": 102},
"Laurencio": {"símbolo": "Lr", "número_atómico": 103},
"Rutherfordio": {"símbolo": "Rf", "número_atómico": 104},
"Dubnio": {"símbolo": "Db", "número_atómico": 105},
"Seaborgio": {"símbolo": "Sg", "número_atómico": 106},
"Bohrio": {"símbolo": "Bh", "número_atómico": 107},
"Hassio": {"símbolo": "Hs", "número_atómico": 108},
"Meitnerio": {"símbolo": "Mt", "número_atómico": 109},
"Darmstatio": {"símbolo": "Ds", "número_atómico": 110},
"Roentgenio": {"símbolo": "Rg", "número_atómico": 111},
"Nihonio": {"símbolo": "Nh", "número_atómico": 113},
"Flerovio": {"símbolo": "Fl", "número_atómico": 114},
"Moscovio": {"símbolo": "Mc", "número_atómico": 115},
"Livermorio": {"símbolo": "Lv", "número_atómico": 116},
"Tenesino": {"símbolo": "Ts", "número_atómico": 117},
"Oganesón": {"símbolo": "Og", "número_atómico": 118},
};

let currentElement;
let score = 0;

function newQuestion() {
    currentElement = getRandomElement();
    document.getElementById("element-label").innerText = currentElement;

    let options = [currentElement];
    while (options.length < 4) {
        let randomElement = getRandomElement();
        if (!options.includes(randomElement)) {
            options.push(randomElement);
        }
    }

    shuffleArray(options);

    for (let i = 0; i < 4; i++) {
        let button = document.getElementById(`button-${i}`);
        button.innerText = elements[options[i]].símbolo;
        button.style.backgroundColor = "hsl(197, 100%, 50%)"; // Restaurar el color de fondo del botón
    }
}

function getRandomElement() {
    return Object.keys(elements)[Math.floor(Math.random() * Object.keys(elements).length)];
}

function shuffleArray(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
    }
}

function checkAnswer(idx) {
    let selectedElement = document.getElementById(`button-${idx}`);
    let selectedSymbol = selectedElement.innerText;
    let correctIdx = null;
    
    // Encuentra el índice de la respuesta correcta
    for (let i = 0; i < 4; i++) {
        if (elements[currentElement].símbolo === document.getElementById(`button-${i}`).innerText) {
            correctIdx = i;
            break;
        }
    }

    if (selectedSymbol === elements[currentElement].símbolo) {
        score++;
        selectedElement.style.backgroundColor = "green"; // Cambiar a verde si es correcto
        document.getElementById("score").innerText = `Puntaje: ${score}`; // Actualizar el puntaje en la interfaz
    } else {
        selectedElement.style.backgroundColor = "red"; // Cambiar a rojo si es incorrecto
        document.getElementById(`button-${correctIdx}`).style.backgroundColor = "#FFB900"; // Cambiar a amarillo la respuesta correcta
    }
    // Reiniciar los colores de fondo después de un breve tiempo
    setTimeout(() => {
        selectedElement.style.backgroundColor = "hsl(197, 100%, 50%)";
        document.getElementById(`button-${correctIdx}`).style.backgroundColor = "hsl(197, 100%, 50%)"; // Restaurar el color de fondo de la respuesta correcta
        newQuestion();
    }, 1000);
}

document.addEventListener("DOMContentLoaded", () => {
    newQuestion();
    document.getElementById("score").innerText = `Puntaje: ${score}`; // Mostrar el puntaje inicial en la interfaz
    document.getElementById("exit-button").addEventListener("click", () => {
        // Acción para salir del juego, puede ser redirigir a otra página o cerrar la ventana
        window.location.href = 'https://fassow.github.io/web/index.html'; // Redirigir a la página principal
    });
});

for (let i = 0; i < 4; i++) {
    document.getElementById(`button-${i}`).addEventListener("click", () => checkAnswer(i));
}
